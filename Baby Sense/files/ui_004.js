UI.animationType={LinearProgression:function(a){return a},QuadraticProgression:function(a){return Math.pow(a,2)},Circ:function(a){return 1-Math.sin(Math.acos(a))},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2)},Black:function(b,a){return Math.pow(b,2)*((a+1)*b-a)},Bounce:function(e){var d=0,c=1;for(d=0,c=1;1;d+=c,c/=2){if(e>=(7-4*d)/11){return -Math.pow((11-6*d-11*e)/4,2)+Math.pow(c,2)}}},Elastic:function(b,a){return Math.pow(2,10*(b-1))*Math.cos(20*b*Math.PI*a/3)},EaseOut:function(a){function b(e){var d=0,c=1;for(d=0,c=1;1;d+=c,c/=2){if(e>=(7-4*d)/11){return -Math.pow((11-6*d-11*e)/4,2)+Math.pow(c,2)}}}return 1-b(1-a)},EaseInOut:function(b,a){function c(e,d){return Math.pow(2,10*(e-1))*Math.cos(20*e*Math.PI*d/3)}if(b<0.5){return c(2*b,a)/2}else{return(2-c(2*(1-a),a))/2}},re:function(b,a){return 1-(this[a]!=undefined?this[a](1-b):this.Circ(1-b))},easingEquations:{linearTween:function(e,a,g,f){return g*e/f+a},easeInQuad:function(e,a,g,f){e/=f;return g*e*e+a},easeOutQuad:function(e,a,g,f){e/=f;return -g*e*(e-2)+a},easeInOutQuad:function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e+a}e--;return -g/2*(e*(e-2)-1)+a},easeInCubic:function(e,a,g,f){e/=f;return g*e*e*e+a},easeOutCubic:function(e,a,g,f){e/=f;e--;return g*(e*e*e+1)+a},easeInOutCubic:function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e*e+a}e-=2;return g/2*(e*e*e+2)+a},easeInQuart:function(e,a,g,f){e/=f;return g*e*e*e*e+a},easeOutQuart:function(e,a,g,f){e/=f;e--;return -g*(e*e*e*e-1)+a},easeInOutQuart:function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e*e*e+a}e-=2;return -g/2*(e*e*e*e-2)+a},easeInQuint:function(e,a,g,f){e/=f;return g*e*e*e*e*e+a},easeOutQuint:function(e,a,g,f){e/=f;e--;return g*(e*e*e*e*e+1)+a},easeInOutQuint:function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e*e*e*e+a}e-=2;return g/2*(e*e*e*e*e+2)+a},easeInSine:function(e,a,g,f){return -g*Math.cos(e/f*(Math.PI/2))+g+a},easeOutSine:function(e,a,g,f){return g*Math.sin(e/f*(Math.PI/2))+a},easeInOutSine:function(e,a,g,f){return -g/2*(Math.cos(Math.PI*e/f)-1)+a},easeInExpo:function(e,a,g,f){return g*Math.pow(2,10*(e/f-1))+a},easeOutExpo:function(e,a,g,f){return g*(-Math.pow(2,-10*e/f)+1)+a},easeInOutExpo:function(e,a,g,f){e/=f/2;if(e<1){return g/2*Math.pow(2,10*(e-1))+a}e--;return g/2*(-Math.pow(2,-10*e)+2)+a},easeInCirc:function(e,a,g,f){e/=f;return -g*(Math.sqrt(1-e*e)-1)+a},easeOutCirc:function(e,a,g,f){e/=f;e--;return g*Math.sqrt(1-e*e)+a},easeInOutCirc:function(e,a,g,f){e/=f/2;if(e<1){return -g/2*(Math.sqrt(1-e*e)-1)+a}e-=2;return g/2*(Math.sqrt(1-e*e)+1)+a}}};UI.animate=function(s,f,e,m,k,g,o){var h=this,i=s.parentNode,r=[],n,q=0,c=0,a=0,d=0,l=0,b=0;if(typeof e!=="number"){e=500}if(typeof k==="undefined"){k="LinearProgression"}function j(t,p){if((p=="top")||(p=="height")||(p=="bottom")){b=i.offsetHeight/100}else{b=i.offsetWidth/100}return parseFloat(t,10)*b}for(n in f){r[n]={from:h.getStyle(s,n),end:0,direction:1,way:0};if(h.$d.isIE&&(h.$d.browserVersion<9)){if(n=="width"){r[n].from=s.offsetWidth}else{if(n=="height"){r[n].from=s.offsetHeight}else{if(r[n].from=="auto"){r[n].from=0}else{if(r[n].from.indexOf("%")!=-1){r[n].from=j(r[n].from,n)}else{r[n].from=parseFloat(r[n].from,10)}}}}}else{if(h.$d.isOpera&&((n=="height")||(n=="width"))){if(n=="width"){r[n].from=s.offsetWidth}else{if(n=="height"){r[n].from=s.offsetHeight}}}else{if(!h.$d.isFx&&(((n=="top")&&(r[n].from=="auto"))||((n=="right")&&(r[n].from=="auto"))||((n=="bottom")&&(r[n].from=="auto"))||((n=="left")&&(r[n].from=="auto"))||((n=="marginLeft")&&(r[n].from=="auto"))||((n=="marginRight")&&(r[n].from=="auto")))){r[n].from=0}else{if((r[n].from.indexOf("%")!=-1)&&(!h.$d.isFx)){r[n].from=j(r[n].from,n)}else{r[n].from=parseFloat(r[n].from,10)}}}}r[n].units=f[n].replace(/[0-9]|\.|-|\+|=/g,"");r[n].end=parseFloat(f[n],10);if(r[n].units=="em"){r[n].end=r[n].end*parseFloat(h.getStyle(s,"fontSize"),10)}else{if(r[n].units=="%"){b=(n=="height")||(n=="top")||(n=="bottom")?s.parentNode.offsetHeight/100:b=s.parentNode.offsetWidth/100;r[n].end=r[n].end*b}}r[n].way=Math.sqrt(Math.pow(r[n].end-r[n].from,2));if(r[n].from>r[n].end){r[n].direction=-1}}c=new Date().getTime();q=window.setInterval(function(){a=(new Date().getTime())-c;d=a/e;if(d>=1){window.clearInterval(q);for(n in f){s.style[n]=f[n]}if(typeof m==="function"){m.call(s)}}else{for(n in f){if(k=="easingEquations"){l=r[n].from+(r[n].direction*h.animationType[k][g](d,0,r[n].way,1))}else{l=(r[n].end-r[n].from)*h.animationType[k](d,g)+r[n].from}if((l>=0)||(n=="top")||(n=="right")||(n=="bottom")||(n=="left")||(n=="marginTop")||(n=="marginBottom")||(n=="marginRight")||(n=="marginLeft")||(n=="zIndex")){s.style[n]=l+"px"}if(typeof o==="function"){o(d)}}}},10)};UI.fadeIn=function(g,d,e,a){var h=this,f,i=0,c=-1,b=-1;if((typeof d!=="number")){d=200}if(h.$d.isIE&&(h.$d.browserVersion<9)){if(a){g.style.display="block";g.style.visibility="visible";if(typeof e==="function"){e(g)}}else{g.style.display="block";g.style.visibility="hidden";setTimeout(function(){if(typeof e==="function"){e.call(g)}},d+50);g.style.filter="blendTrans(duration="+d/1000+")";if(g.filters.blendTrans.status!=d/1000){g.filters.blendTrans.apply();g.style.visibility="visible";g.filters.blendTrans.play()}}}else{g.style.opacity=0;g.style.display="block";c=new Date().getTime();f=setInterval(function(){b=(new Date().getTime())-c;i=b/d;g.style.opacity=i;if(i>=1){window.clearInterval(f);g.style.opacity=1;if(typeof e==="function"){e.call(g)}}},16)}};UI.fadeOut=function(g,d,e,a){var h=this,f,i=0,c=-1,b=-1;if((typeof d!=="number")){d=200}if(h.$d.isIE&&(h.$d.browserVersion<9)){if(a){g.style.display="none";g.style.visibility="hidden";if(typeof e==="function"){e(g)}}else{g.style.display="block";g.style.visibility="visible";setTimeout(function(){g.style.display="none";if(typeof e==="function"){e.call(g)}},d+50);g.style.filter="blendTrans(duration="+d/1000+")";if(g.filters.blendTrans.status!=d/1000){g.filters.blendTrans.apply();g.style.visibility="hidden";g.filters.blendTrans.play()}}}else{g.style.opacity=1;g.style.display="block";c=new Date().getTime();f=setInterval(function(){b=(new Date().getTime())-c;i=1-b/d;g.style.opacity=i;if(i<=0){window.clearInterval(f);g.style.display="none";g.style.opacity=1;if(typeof e==="function"){e.call(g)}}},16)}};UI.hover=function(b,k,a,j){var h=this,f=document.body,e,g=[],d=0,c=1;if(h.$d.isTouch){g.push({object:b,cIn:k,cOut:a,cMove:j,isIn:false});h.addEvent(f,"touchmove",function(i){e=document.elementFromPoint(h.$r.cache.touchX,h.$r.cache.touchY);for(d=0;d<c;d+=1){if(h.testParentOf(e,g[d].object)){if(!g[d].isIn&&(typeof g[d].cIn==="function")){g[d].cIn.call(g[d].object,i)}if(typeof g[d].cMove==="function"){g[d].cMove.call(g[d].object,i)}g[d].isIn=true}else{if(g[d].isIn){g[d].isIn=false;if(typeof g[d].cOut==="function"){g[d].cOut.call(g[d].object,i)}}}}});h.addEvent(f,"touchstart",function(i){e=document.elementFromPoint(h.$r.cache.touchX,h.$r.cache.touchY);for(d=0;d<c;d+=1){if(h.testParentOf(e,g[d].object)){g[d].isIn=true;if(g[d].cIn==="function"){g[d].cIn.call(g[d].object,i)}}}});h.addEvent(f,"touchend",function(i){e=document.elementFromPoint(h.$r.cache.touchX,h.$r.cache.touchY);for(d=0;d<c;d+=1){if(g[d].isIn){g[d].isIn=false;if((typeof g[d].cOut==="function")&&h.testParentOf(e,g[d].object)){g[d].cOut.call(g[d].object,i,true)}}}});h.hover=function(i,m,n,l){g.push({object:i,cIn:m,cOut:n,cMove:l,isIn:false});c+=1;return function(o){var p=g.length;for(;p--;){if(g[p].object===i){g.splice(p,1);c-=1;p=i=m=n=l=null;break}}if(typeof o==="function"){o()}}};return function(i){g.splice(0,1);c-=1;b=k=a=j=null;if(typeof i==="function"){i()}}}else{h.hover=function(l,q,r,n){var p=false;function i(s){if(p&&!h.testParentOf(s.target,l)){p=false;if(typeof r==="function"){r.call(l,s)}}}function m(s){if(!p){p=true;if(typeof q==="function"){q.call(l,s)}}}function o(s){if(!p&&(typeof q==="function")){q.call(l,s)}p=true;if(typeof n==="function"){n.call(l,s)}}h.addEvent(f,"mousemove",i);h.addEvent(l,"mouseover",m);h.addEvent(l,"mousemove",o);return function(s){h.removeEvent(f,"mousemove",i);h.removeEvent(l,"mouseover",m);h.removeEvent(l,"mousemove",m);q=r=n=l=p=null;if(typeof s==="function"){s()}}};return h.hover(b,k,a,j)}};UI.timeProcess=function(f,d){var e,c,b=0,a=0;if(typeof d!=="number"){d=500}e=new Date().getTime();a=window.setInterval(function(){c=new Date().getTime()-e;b=c/d;if(b>=1){f(1,true);window.clearInterval(a)}else{f(b)}},1)};UI.dynamicCSS=function(c){var d=this,e=document.createElement("style"),f,g=0,b=0,a=0;document.body.appendChild(e);f=e.sheet?e.sheet:e.styleSheet;function h(i){f.insertRule(i,g);g+=1}function j(i){f.addRule(i.substring(0,i.indexOf("{")),i.substring(i.indexOf("{")+1,i.indexOf("}")-1),0)}d.dynamicCSS=typeof f.insertRule==="function"?function(i){if(typeof i=="string"){h(i)}else{for(b=0,a=i.length;b<a;b+=1){h(i[b])}}}:function(i){if(typeof i=="string"){j(i)}else{for(b=0,a=i.length;b<a;b+=1){j(i[b])}}};d.dynamicCSS(c)};UI.CSS=new function(){var e=this,d=(document.head||document.getElementsByTagName("head")[0]),a,c,f=-1,b=0;e.createSheet=function(){a=document.createElement("style");d.appendChild(a);return a.sheet||a.styleSheet};c=e.createSheet();e.rule=typeof c.insertRule==="function"?function(i,h,g){i.insertRule(h,g)}:function(i,h,g){i.addRule(h.substring(0,h.indexOf("{")),h.substring(h.indexOf("{")+1,h.indexOf("}")),g)};e.add=function(g){if(typeof g==="string"){f+=1;e.rule(c,g,f)}else{for(b=g.length;b--;){f+=1;e.rule(c,g,f)}}}};UI.timingTest={add:function(h){var e=this,f=[],b=[],c=0,g=0,d=0,a=0;e.add=function(i){b.push(function(){f.push(i);a=f.length})};e.remove=function(i){b.push(function(){for(d=a;d--;){if((f[d]===i)){f.splice(d,1);a-=1;break}}})};e.interval=window.setInterval(function(){for(d=0;d<a;d+=1){f[d]()}g=b.length;if(g>0){for(c=0;c<g;c+=1){b[c]()}b.length=0}},16);e.add(h)}};UI.propertiesToString=function(){var d=["H","W","L","B","R","T"],f=["-h","-w","-l","-b","-r","-t"],b=[],c=0,a=d.length,h=-1,g;function e(i){for(c=a;c--;){h=i.indexOf(d[c]);if(h!=-1){return i.substr(0,h)+f[c]+i.substring(h+1,i.length)}}return i}return function(i,j){b.length=0;for(g in i){b.push(e(g))}return typeof j!=="string"?b.join(" "):b.join(j)}}();UI.cssAnimate=function(f,h,c,i,d){var g=this,b=g.$d,a,e;if(b.isTransitions){if(typeof c!=="number"){c=500}if((typeof d!=="string")||((d!="linear")&&(d!="ease-in")&&(d!="ease-out")&&(d!="ease-in-out")&&(d!="cubic-bezier"))){d="default"}a=f.style;a[b.sTProperty]=g.propertiesToString(h,", ");a[b.sTDuration]=c+"ms";a[b.sTTimingFunction]=d;e=function(j){g.removeEvent(f,b.eTransitionEnd,e);a[b.sTProperty]="none";a[b.sTDuration]="0ms";if(typeof i==="function"){i(j)}};g.addEvent(f,b.eTransitionEnd,e);setTimeout(function(){g.css(f,h)},1)}};UI.$m={random:function(b,a){return Math.floor(Math.random()*(a-b+1))+b},getRad:function(a){return a*(Math.PI/180)},getDeg:function(a){return a*(180/Math.PI)},module:function(a){return a<0?a*-1:a},getDistance:function(b,a){return Math.sqrt(Math.pow(a-b,2))},getDistance2D:function(b,d,a,c){if(d==c){return this.getDistance(b,a)}if(b==a){return this.getDistance(d,c)}return Math.sqrt(Math.pow(a-b,2)+Math.pow(c-d,2))},getProjectionXOfValue:function(f,c,e,b,d){var g=this.getDistance(e,d),a=this.getDistance(c,b);if(a==0){return 0}if(g==0){return a}return f*Math.cos(Math.atan(g/a))},getProjectionYOfValue:function(f,c,e,b,d){var g=this.getDistance(e,d),a=this.getDistance(c,b);if(g==0){return 0}if(a==0){return g}return f*Math.sin(Math.atan(g/a))}};UI.$m.straight={getType:function(b,d,a,c){if(b==a){return"x"}if(d==c){return"y"}return"xy"},getK:function(b,d,a,c){return(this.getType(b,d,a,c)=="x")?"x":(c-d)/(a-b)},getB:function(b,d,a,c){return(this.getType(b,d,a,c)=="x")?"x":d-(c-d)/(a-b)*b},getBFromK:function(a,c,b){return c-b*a},getKFromB:function(c,d,a){return(d-a)/c},getKB:function(b,d,a,c){return[this.getK(b,d,a,c),this.getB(b,d,a,c)]},testPointOfKB:function(e,d,c,a){return d==(c*e+a)},testPointOfPoints:function(f,e,b,d,a,c){if(this.getType(b,d,a,c)=="x"){return f==b}if(d==c){return e==d}return e==(this.getK(b,d,a,c)*f+this.getB(b,d,a,c))},getBForShiftStraight:function(f,e,b,d,a,c){return this.getType(b,d,a,c)=="x"?"x":e-f*this.getK(b,d,a,c)}};UI.$m.getAngleOfStraight=function(h,b,g,a,m,f,k,e){var n=this,i=n.straight,d=i.getType(h,b,g,a),c=i.getType(m,f,k,e),l=i.getK(h,b,g,a),j=i.getK(m,f,k,e);if(((d=="x")&&(c=="x"))||(d=="y")&&(c=="y")||(l==j)){return null}if(((d=="y")&&(c=="x"))||((d=="x")&&(c=="y"))){return n.getRad(90)}if((d=="x")){return Math.atan(j)}if((c=="x")){return Math.atan(l)}return Math.atan((j-l)/(1+l*j))};UI.$m.getSumOfVectors=function(e,b){var d=this,h=d.getAngleOfStraight(e.x1,e.y1,e.x2,e.y2,b.x1,b.y1,b.x2,b.y2),c=e.x1<=e.x2,a=e.y1<=e.y2,g=b.x1<=b.x2,f=b.y1<=b.y2;if(typeof e.m==="undefined"){e.m=d.getDistance2D(e.x1,e.y1,e.x2,e.y2)}if(typeof b.m==="undefined"){b.m=d.getDistance2D(b.x1,b.y1,b.x2,b.y2)}if(h==null){return(c==g)&&(a==f)?e.m+b.m:e.m-b.m}return Math.sqrt(Math.pow(e.m,2)+Math.pow(b.m,2)-2*e.m*b.m*((c==g)&&(a==f)?Math.cos(d.getRad(180-d.module(d.getDeg(h)))):Math.cos(h)))};UI.coordHover=function(a,c){var b=this;if(typeof a==="undefined"){a=document.body}};JSON=new function(){this.decode=function(){var filter,result,self,tmp;if($$("toString")){switch(arguments.length){case 2:self=arguments[0];filter=arguments[1];break;case 1:if($[typeof arguments[0]](arguments[0])===Function){self=this;filter=arguments[0]}else{self=arguments[0]}break;default:self=this;break}if(rc.test(self)){try{result=e("(".concat(self,")"));if(filter&&result!==null&&(tmp=$[typeof result](result))&&(tmp===Array||tmp===Object)){for(self in result){result[self]=v(self,result)?filter(self,result[self]):result[self]}}}catch(z){}}else{throw new Error("bad data")}}return result};this.encode=function(){var self=arguments.length?arguments[0]:this,result,tmp;if(self===null){result="null"}else{if(self!==undefined&&(tmp=$[typeof self](self))){switch(tmp){case Array:result=[];for(var i=0,j=0,k=self.length;j<k;j++){if(self[j]!==undefined&&(tmp=JSON.encode(self[j]))){result[i++]=tmp}}result="[".concat(result.join(","),"]");break;case Boolean:result=String(self);break;case Date:result='"'.concat(self.getFullYear(),"-",d(self.getMonth()+1),"-",d(self.getDate()),"T",d(self.getHours()),":",d(self.getMinutes()),":",d(self.getSeconds()),'"');break;case Function:break;case Number:result=isFinite(self)?String(self):"null";break;case String:result='"'.concat(self.replace(rs,s).replace(ru,u),'"');break;default:var i=0,key;result=[];for(key in self){if(self[key]!==undefined&&(tmp=JSON.encode(self[key]))){result[i++]='"'.concat(key.replace(rs,s).replace(ru,u),'":',tmp)}}result="{".concat(result.join(","),"}");break}}}return result};this.toDate=function(){var self=arguments.length?arguments[0]:this,result;if(rd.test(self)){result=new Date;result.setHours(i(self,11,2));result.setMinutes(i(self,14,2));result.setSeconds(i(self,17,2));result.setMonth(i(self,5,2)-1);result.setDate(i(self,8,2));result.setFullYear(i(self,0,4))}else{if(rt.test(self)){result=new Date(self*1000)}}return result};var c={"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d=function(n){return n<10?"0".concat(n):n},e=function(c,f,e){e=eval;delete eval;if(typeof eval==="undefined"){eval=e}f=eval(""+c);eval=e;return f},i=function(e,p,l){return 1*e.substr(p,l)},p=["","000","00","0",""],rc=null,rd=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs=/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt=/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru=/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s=function(i,d){return"\\".concat(c[d])},u=function(i,d){var n=d.charCodeAt(0).toString(16);return"\\u".concat(p[n.length],n)},v=function(k,v){return $[typeof result](result)!==Function&&(v.hasOwnProperty?v.hasOwnProperty(k):v.constructor.prototype[k]!==v[k])},$={"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(o){return o instanceof o.constructor?o.constructor:null},string:function(){return String},"undefined":function(){return null}},$$=function(m){function $(c,t){t=c[m];delete c[m];try{e(c)}catch(z){c[m]=t;return 1}}return $(Array)&&$(Object)};try{rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}};UI.http=new function(){var b,c=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxm12.XMLHTTP")},function(){return new XMLHttpRequest()}],f=3;for(;f--;){try{if(c[f]()!=null){b=c[f];break}}catch(g){}}f=null;function d(h){var e=h.getResponseHeader("Content-Type");if((e.indexOf("application/json")!=-1)||(e.indexOf("json/text")!=-1)){return JSON.decode(h.responseText)}else{if(e.indexOf("text/xml")!=-1){return h.responseXML}}return h.responseText}function a(h){var e=[],i;for(i in h){e.push(encodeURIComponent(i)+"="+encodeURIComponent(h[i].toString()))}return e.join("&")}return function(e){var h=b();if(typeof e.timeout==="number"){e.timeout=setTimeout(function(){h.abort();if(typeof e.onTimeoutEnd==="function"){e.onTimeoutEnd(h)}},e.timeout)}if(e.isASyn!==false){e.isASyn=true}h.onreadystatechange=function(){if(typeof e.onStateChange==="function"){e.onStateChange(h)}if(h.readyState==4){clearTimeout(e.timeout);if((h.status==200)&&(typeof e.onSuccess==="function")){e.onSuccess(d(h),h)}else{if(typeof e.onError==="function"){e.onError(h)}}}};h.open(e.method,e.url,e.isASyn);if(typeof e.headers!=="undefined"){for(f=e.headers.length;f--;){h.setRequestHeader(e.headers[f].label,e.headers[f].value)}}if(e.method=="POST"){h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(typeof e.data!=="undefined"?a(e.data):e.send)}else{h.send(null)}}};UI.chainDestruction=new function(){var d=this,a={links:[]},k,e=[],c=0,g=0,f=0,b;function l(j,n){var m=n.links.length;k=n;for(;m--;){if(n.links[m].fun===j){c=m;return n.links[m]}if(typeof n.links[m].links!=="undefined"){b=l(j,n.links[m]);if(b!=null){return b}}}return null}function h(n,m){var o=0,j=n.length;if(typeof e[m]==="undefined"){e[m]=[]}for(;o<j;o+=1){e[m].push(n[o].fun);if(typeof n[o].links!=="undefined"){h(n[o].links,m+=1)}}}d.add=function(j,i){if(typeof i==="undefined"){a.links.push({fun:j})}else{b=l(i,a);if(b==null){a.links.push({fun:j})}else{if(typeof b.links=="undefined"){b.links=[]}b.links.push({fun:j})}}};d.destruct=function(i){b=l(i,a);if(b!=null){if(typeof b.links!=="undefined"){h(b.links,0);for(g=e.length;g--;){for(f=e[g].length;f--;){e[g][f]()}}e.length=0}i();k.links.splice(c,1)}}};UI.keyCodeIs=function(c){var a=this,b=[];b[8]="back";b[9]="tab";b[13]="enter";b[16]="shift";b[17]="ctrl";b[18]="alt";b[20]="caps";b[27]="esc";b[32]="space";b[33]="pUp";b[34]="pDown";b[35]="end";b[36]="home";b[37]="aLeft";b[38]="aTop";b[39]="aRight";b[40]="aBottom";b[45]="insert";b[46]="delete";b[48]="0";b[49]="1";b[50]="2";b[51]="3";b[52]="4";b[53]="5";b[54]="6";b[55]="7";b[56]="8";b[57]="9";b[59]=b[186]=";";b[61]=b[187]="=";b[65]="a";b[66]="b";b[67]="c";b[68]="d";b[69]="e";b[70]="f";b[71]="g";b[72]="h";b[73]="i";b[74]="j";b[75]="k";b[76]="l";b[77]="m";b[78]="n";b[79]="o";b[80]="p";b[81]="q";b[82]="r";b[83]="s";b[84]="t";b[85]="u";b[86]="v";b[87]="w";b[88]="x";b[89]="y";b[90]="z";b[96]="n0";b[97]="n1";b[98]="n2";b[99]="n3";b[100]="n4";b[101]="n5";b[102]="n6";b[103]="n7";b[104]="n8";b[105]="n9";b[111]="n/";b[106]="n*";b[107]="n+";b[109]=b[189]="-";b[110]="nPoint";b[112]="f1";b[113]="f2";b[114]="f3";b[115]="f4";b[116]="f5";b[117]="f6";b[118]="f7";b[119]="f8";b[120]="f9";b[121]="f10";b[122]="f11";b[123]="f12";b[124]=b[44]="f13";b[125]=b[145]="f14";b[126]=b[19]="f15";b[127]="f16";b[128]=b[63252]="f17";b[129]=b[63253]="f18";b[130]=b[63254]="f19";b[144]="numPad";b[188]="<";b[190]=">";b[191]="?";b[192]="~";b[219]="[";b[220]="|";b[221]="]";b[222]='"';b[224]=b[91]=b[93]="cmd";if(a.$d.isMac){if(a.$d.isOpera){b[57392]="ctrl";b[17]="cmd"}}if(a.$d.isWindows){b[19]="pause";b[44]="prtSc";b[91]="win";b[145]="scrollLock";if(a.$d.isOpera){b[42]="n*";b[43]="n+";b[47]="n/"}}a.keyCodeIs=function(d){return b[d.keyCode]};return a.keyCodeIs(c)};UI.$k=new function(f){var d=this,e=[],c=0;d.onPressedTest=function(h){for(c=e.length;c--;){if(e[c]==h){return true}}return false};function b(i){var h=f.arrayIndexOf(e,i);if(h!=-1){e.splice(h,1)}h=null}function g(i){var h=f.keyCodeIs(i);if(!d.onPressedTest(h)){e.push(h)}h=null}function a(h){b(f.keyCodeIs(h))}f.addEvent(document,"keydown",g);f.addEvent(document,"keyup",a);f.addEvent(window,"blur",function(){e.length=0})}(UI);UI.cursorPosition=function(){return document.selection?{get:function(){var a=document.selection.createRange();a.moveStart("textedit",-1);return a.text.length},set:function(c,a){var b=c.createTextRange();b.collapse(true);b.moveStart("character",a);b.select()}}:{get:function(a){return a.selectionStart},set:function(b,a){b.setSelectionRange(a,a)}}}();UI.expandDoing=function(c){var d=this,f,b,e,a=false;if(typeof d.__isInitDoing==="undefined"){if(d.$d.isTouch){f=function(g){};b=function(g){if(d.testParentOf(document.elementFromPoint(d.$r.cache.touchX,d.$r.cache.touchY),c)){d.generateCustomEvent(c,"doingUp",undefined,g)}};e=function(g){console.log("d "+d.getPointerX(g));if(a&&d.testParentOf(document.elementFromPoint(d.$r.cache.touchX,d.$r.cache.touchY),c)){d.generateCustomEvent(c,"doingUp",undefined,g)}};d.addEvent(c,"touchstart",f);d.addEvent(document.body,"touchend",b);d.addEvent(c,"touchend",b)}else{f=function(g){d.generateCustomEvent(c,"doingStart",undefined,g)};b=function(g){d.generateCustomEvent(c,"doingUp",undefined,g)};e=function(g){d.generateCustomEvent(c,"doing",undefined,g)};d.addEvent(c,"mousedonw",f);d.addEvent(c,"mouseup",b);d.addEvent(c,"click",e)}}};UI.cookie=new function(){var c=this,b,a=0;c.get=function(d){b=document.cookie.split("; ");for(a=b.length;a--;){if(b[a].indexOf(d)!=-1){return unescape(b[a].substring(b[a].indexOf("=")+1,b[a].length))}}return null};c.set=function(d,e){document.cookie=d+"="+escape(e)+";"};c.del=function(d){document.cookie=d+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;"}};UI.storage=new function(c){var b=this,f,a;if(typeof localStorage!=="undefined"){f=localStorage;b.set=function(g,h){try{f.setItem(g,h)}catch(i){if(i=="QUOTA_EXCEEDED_ERR"){c.generateCustomEvent(window,"storageIsFull")}}};b.get=function(e){return f.getItem(e)};b.del=function(e){f.getItem(e)};b.clear=function(){f.clear()}}else{if(c.$d.isIE){f=c.addElement({tag:"div"});f.addBehavior("#default#userData");a=document.domain.split(".");a=a[a.length-2];return{};try{f.load[a]}catch(d){alert("asd")}b.set=function(g,h){try{f.setAttribute(g,h)}catch(i){alert(i)}f.save[a]};b.get=function(e){return f.getAttribute(e)};b.del=function(e){f.removeAttribute(e);f.save[a]}}else{b.set=b.cookie.set;b.get=b.cookie.get;b.del=b.cookie.del}}}(UI);